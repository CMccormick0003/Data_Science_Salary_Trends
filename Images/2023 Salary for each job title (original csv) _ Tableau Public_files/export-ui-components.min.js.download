!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@tableau/widgets")):"function"==typeof define&&define.amd?define(["react","@tableau/widgets"],t):"object"==typeof exports?exports.ExportUIComponents=t(require("react"),require("@tableau/widgets")):e.ExportUIComponents=t(e.React,e.SharedWidgets)}(self,(function(e,t){return function(){var n={514:function(e,t,n){"use strict";function r(){let e;e="undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name?n.g:self;let t=e;if("string"==typeof CustomLocalizeNamespace&&(t=e[CustomLocalizeNamespace]),void 0===t.Localize)throw Error("The messages.<locale>.js file has not been loaded");return t.Localize}Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=t.CurrentMessageLocale=t.LocaleData=t.getCurrentMessageLocale=t.getLocalizeFormat=void 0,t.getLocalizeFormat=()=>{const e=r();if(void 0===e.format)throw Error("The formatters-and-parsers.<locale>.js file has not been loaded");return e.format},t.getCurrentMessageLocale=()=>{const e=r();if(void 0===e.message.currentLocale)throw Error("The localize.message.currentLocale has not been set");return e.message.currentLocale},t.LocaleData={get:()=>t.getLocalizeFormat().localeData},t.CurrentMessageLocale={get:()=>t.getCurrentMessageLocale()};const i=(e,t)=>r().msg.formatMessage(e,t);t.Messages={ClearAllButtonText:()=>i("@tableau__export-ui-components/ClearAllButtonText"),FromDashboardText:()=>i("@tableau__export-ui-components/FromDashboardText"),FromWorkbookText:()=>i("@tableau__export-ui-components/FromWorkbookText"),IncludeLabelText:()=>i("@tableau__export-ui-components/IncludeLabelText"),PickerListName:()=>i("@tableau__export-ui-components/PickerListName"),SelectAllButtonText:()=>i("@tableau__export-ui-components/SelectAllButtonText"),ThisStoryText:()=>i("@tableau__export-ui-components/ThisStoryText"),ThisViewText:()=>i("@tableau__export-ui-components/ThisViewText"),ThumbnailSelectionCounterName:()=>i("@tableau__export-ui-components/ThumbnailSelectionCounterName"),xOfy:e=>i("@tableau__export-ui-components/xOfy",e)}},445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SheetPicker=t.SheetPickerTestId=t.DropdownOptionListItemTestId=t.DropdownOptionListTestId=t.IncludeDropdownTestId=void 0;const r=n(729),i=n(197),s=n(514),o=n(722),a=n(543);t.IncludeDropdownTestId="sheet-picker-include-dropdown",t.DropdownOptionListTestId="sheet-picker-include-dropdown-options-list",t.DropdownOptionListItemTestId="sheet-picker-include-dropdown-options-list-item",t.SheetPickerTestId="sheet-picker-root";const l={value:"current-view",content:"",testId:t.DropdownOptionListItemTestId},c=Object.assign({},l),u={value:"from-workbook",content:"",testId:t.DropdownOptionListItemTestId},h={value:"from-dashboard",content:"",testId:t.DropdownOptionListItemTestId},d=Object.freeze({dashboard:[l,h,u],story:[c,u],worksheet:[l,u]});class p extends i.Component{constructor(){super(...arguments),this.state={currentListItemValue:l.value,stackingRoot:null},this.handleItemClick=e=>{this.markAsSelected(e.id,!this.isSheetSelected(e.id))},this.handleClearAllButtonClick=()=>{this.clearSelectionState()},this.handleSelectAllButtonClick=()=>{this.props.onSelectionChange(this.getPickerSheetIds())},this.handleDropdownChange=e=>{this.setState({currentListItemValue:e})},this.handleStackingRootRef=e=>{this.state.stackingRoot!==e&&this.setState({stackingRoot:e})}}componentDidUpdate(e,t){if(t.currentListItemValue!==this.state.currentListItemValue)if(this.state.currentListItemValue===l.value)this.props.onSelectionChange([this.props.sheetId]);else{const e=this.getOrderedSheetPickerItemModels();e.length>0?this.props.onSelectionChange([e[0].id]):this.clearSelectionState()}}setContentForIncludeDropdownItems(){switch(this.props.sheetType){case"dashboard":l.content=s.Messages.ThisViewText(),h.content=s.Messages.FromDashboardText();break;case"story":c.content=s.Messages.ThisStoryText();break;case"worksheet":l.content=s.Messages.ThisViewText();break;default:throw new Error("Unexpected value for SheetType while building ExportUIComponents")}u.content=s.Messages.FromWorkbookText()}getIncludeDropdownContent(){return d[this.props.sheetType].filter((e=>e.value===this.state.currentListItemValue))[0].content}getPickerSheetIds(){return this.state.currentListItemValue===u.value?this.props.exportableSheetIdsInWorkbook:this.props.exportableSheetIdsInDashboard}isSheetSelected(e){return this.props.selectedSheetIds.indexOf(e)>=0}clearSelectionState(){this.props.onSelectionChange([])}markAsSelected(e,t=!0){const n=this.isSheetSelected(e);this.props.singleSheetSelectionOnly?t&&!n?this.props.onSelectionChange([e]):!t&&n&&this.clearSelectionState():t&&!n?this.props.onSelectionChange([...this.props.selectedSheetIds,e]):!t&&n&&this.props.onSelectionChange(this.props.selectedSheetIds.filter((t=>t!==e)))}getOrderedSheetPickerItemModels(){const e=this.getPickerSheetIds();return this.props.allSheetThumbnailItems.filter((t=>e.indexOf(t.id)>=0))}getThumbnailPickerProps(){return{counterLabel:s.Messages.ThumbnailSelectionCounterName(),groupLabel:s.Messages.PickerListName(),onClearAllButtonClick:this.handleClearAllButtonClick,onItemClick:this.handleItemClick,onSelectAllButtonClick:this.handleSelectAllButtonClick,selectedThumbnailIds:this.props.selectedSheetIds,singleSelectOnly:this.props.singleSheetSelectionOnly,thumbnails:this.getOrderedSheetPickerItemModels()}}render(){this.setContentForIncludeDropdownItems();const e={label:s.Messages.IncludeLabelText(),list:i.createElement(r.List,{items:d[this.props.sheetType],testId:t.DropdownOptionListTestId,selectedValue:this.state.currentListItemValue}),onChange:this.handleDropdownChange,testId:t.IncludeDropdownTestId,type:r.DropdownButtonType.Line,value:this.state.currentListItemValue};return i.createElement(r.StackingRootContext.Provider,{value:this.state.stackingRoot},i.createElement("div",{ref:this.handleStackingRootRef,className:a.sheetPickerRootClassName,"data-tb-test-id":t.SheetPickerTestId},i.createElement("div",{className:a.includeDropdownWrapperClassName},i.createElement(r.SingleSelectDropdown,Object.assign({},e),this.getIncludeDropdownContent())),this.state.currentListItemValue!==l.value&&i.createElement(o.ThumbnailPicker,Object.assign({},this.getThumbnailPickerProps()))))}}t.SheetPicker=p},543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sheetPickerRootClassName=t.includeDropdownWrapperClassName=void 0;const r=n(729),i=n(16),{Spacing:s}=r.TabStyles;t.includeDropdownWrapperClassName=i.style({marginBottom:s.LargeSpace}),t.sheetPickerRootClassName=i.style({position:"relative"})},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailItem=void 0;const r=n(197),i=n(200);class s extends r.PureComponent{render(){const e=this.props.uri?{background:`url(${this.props.uri}) 0% 0% / cover`}:void 0;return r.createElement("div",{className:i.thumbnailItemTopLevelClassName},r.createElement("div",{className:i.thumbnailImageClassName,style:e},!this.props.uri&&r.createElement("div",{className:i.thumbnailHiddenIconWrapperClassName},r.createElement("div",{className:i.thumbnailHiddenIconClassName})),this.props.isSelected&&r.createElement(r.Fragment,null,r.createElement("div",{className:i.thumbnailOverlayClassName}),r.createElement("div",{className:i.thumbnailCheckboxSelectedClassName}))),r.createElement("span",{className:i.thumbnailTitleClassName,"aria-hidden":"true"},this.props.title))}}t.ThumbnailItem=s},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxIcon=t.ThumbnailPlaceholderImage=void 0;const r=n(729),{L7:i,L8:s}=r.TabStyles.Colors,o=e=>`data:image/svg+xml,${encodeURIComponent(e)}`;t.ThumbnailPlaceholderImage={width:30,height:30,getDataUri:(e=s)=>o(`\n    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30">\n      <path fill="${e}" d="M18 10h2v12h-2zM14 8h2v14h-2zM10 14h2v8h-2z"/>\n      <path d="M27 2H3c-.5 0-1 .4-1 1v24c0 .5.5 1 1 1h24c.6 0 1-.5 1-1V3c0-.6-.5-1-1-1zm0 25H3V3h24v24z" fill="#666"/>\n    </svg>\n  `)},t.CheckboxIcon={width:15,height:15,getDataUri:(e=i)=>o(`\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15">\n      <path d="M1 14.5c-.3 0-.5-.2-.5-.5V1C.5.7.7.5 1 .5h13c.3 0 .5.2.5.5v13c0 .3-.2.5-.5.5H1z" fill="#fff"/>\n      <path d="M14 1v13H1V1h13m0-1H1C.4 0 0 .4 0 1v13c0 .6.4 1 1 1h13c.6 0 1-.4 1-1V1c0-.6-.4-1-1-1z" fill="${e}"/>\n      <path d="M6.7 11.9c-.2 0-.4-.1-.5-.2l-3-3 1.1-1.1 2.3 2.3 4-6.7 1.3.8-4.5 7.6c-.2.1-.4.2-.7.3z" fill="#333"/>\n    </svg>\n  `)}},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.thumbnailTitleClassName=t.thumbnailCheckboxSelectedClassName=t.thumbnailOverlayClassName=t.thumbnailHiddenIconClassName=t.thumbnailHiddenIconWrapperClassName=t.thumbnailImageClassName=t.thumbnailItemTopLevelClassName=void 0;const r=n(729),i=n(16),s=n(36),{Colors:o,Spacing:a,Typography:l}=r.TabStyles,c=a.DefaultSpace,u=s.ThumbnailPlaceholderImage.width/2;t.thumbnailItemTopLevelClassName=i.style({cursor:"pointer"}),t.thumbnailImageClassName=i.style({$debugName:"thumbnail-image",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.35)",height:60,margin:a.SmallSpace,position:"relative",width:75}),t.thumbnailHiddenIconWrapperClassName=i.style({$debugName:"hidden-icon-wrapper",background:o.F1,height:"100%",position:"absolute",width:"100%"}),t.thumbnailHiddenIconClassName=i.style({$debugName:"hidden-icon",backgroundImage:`url('${s.ThumbnailPlaceholderImage.getDataUri()}')`,height:s.ThumbnailPlaceholderImage.height,left:"50%",margin:`-${u}px 0 0 -${u}px`,position:"absolute",top:"50%",width:s.ThumbnailPlaceholderImage.width}),t.thumbnailOverlayClassName=i.style({$debugName:"overlay",backgroundColor:o.Black,height:"100%",opacity:.4,position:"absolute",width:"100%"}),t.thumbnailCheckboxSelectedClassName=i.style({$debugName:"checkbox-selected",backgroundImage:`url('${s.CheckboxIcon.getDataUri(o.L7)}')`,bottom:"auto",height:s.CheckboxIcon.height,left:`${c}px`,position:"absolute",right:"auto",top:`${c}px`,width:s.CheckboxIcon.width,$nest:{"&:hover":{backgroundImage:`url('${s.CheckboxIcon.getDataUri(o.L8)}')`}}}),t.thumbnailTitleClassName=i.style({$debugName:"thumbnail-title",color:l.Color.Primary,display:"inline-block",fontSize:l.Sizing.Tiny,margin:`${c}px 0 0 ${c}px`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:75})},722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailPicker=t.ThumbnailSelectionCounterId=t.ThumbnailPickerTestId=t.SheetThumbnailTestIdPrefix=t.SheetPickerClearAllButtonTestId=t.SheetPickerSelectAllButtonTestId=void 0;const r=n(729),i=n(197),s=n(514),o=n(80),a=n(662);t.SheetPickerSelectAllButtonTestId="sheet-picker-select-all",t.SheetPickerClearAllButtonTestId="sheet-picker-clear-all",t.SheetThumbnailTestIdPrefix="sheet-thumbnail-",t.ThumbnailPickerTestId="thumbnail-picker-list",t.ThumbnailSelectionCounterId="thumbnail-selection-counter";class l extends i.PureComponent{constructor(){super(...arguments),this.pickerRef=i.createRef(),this.state={activeItemIndex:this.getDefaultActiveItemIndex()},this.handleThumbnailClick=e=>{if(!this.props.onItemClick)return;const t=parseInt(e.currentTarget.getAttribute("data-itemindex")||"",10);isNaN(t)||this.props.onItemClick(this.props.thumbnails[t])},this.handleSelectAllClick=()=>{this.props.onSelectAllButtonClick()},this.handleClearAllClick=()=>{this.props.onClearAllButtonClick()},this.handleFocus=e=>{const t=parseInt(e.target.getAttribute("data-itemindex")||"",10);isNaN(t)||t===this.state.activeItemIndex||this.setState({activeItemIndex:t})},this.focusActiveItem=()=>{if(!this.pickerRef.current)return;const e=this.pickerRef.current.querySelector(`[data-itemindex="${this.state.activeItemIndex}"]`);e&&e.focus()},this.handleKeyDown=e=>{const t=e.target,n=parseInt(t.getAttribute("data-itemindex")||"",10);if(isNaN(n))return;const r=this.props.thumbnails.length,i=this.props.thumbnails[n];let s=n;switch(e.key){case" ":case"Enter":this.props.onItemClick&&this.props.onItemClick(i);break;case"ArrowRight":case"ArrowDown":s++;break;case"ArrowLeft":case"ArrowUp":s--;break;default:return}e.preventDefault(),e.stopPropagation(),s!==n&&(s=(s+r)%r,this.setState({activeItemIndex:s},this.focusActiveItem))}}getDefaultActiveItemIndex(){return this.props.defaultFocusThumbnailItemIndex&&this.props.defaultFocusThumbnailItemIndex>=0&&this.props.defaultFocusThumbnailItemIndex<this.props.thumbnails.length?this.props.defaultFocusThumbnailItemIndex:0}createSelectAllButtonProps(){return{buttonType:r.ButtonType.Outline,children:s.Messages.SelectAllButtonText(),handleClick:this.handleSelectAllClick,style:a.selectAllButtonStyles,testId:t.SheetPickerSelectAllButtonTestId}}createDeselectAllButtonProps(){return{buttonType:r.ButtonType.Outline,children:s.Messages.ClearAllButtonText(),handleClick:this.handleClearAllClick,style:a.clearAllButtonStyles,testId:t.SheetPickerClearAllButtonTestId}}renderThumbnailItems(){return this.props.thumbnails.map(((e,n)=>{const s=Object.assign(Object.assign({},e),{isSelected:this.props.selectedThumbnailIds.indexOf(e.id)>=0});return i.createElement(r.PointerEventWrapper,{key:`${s.id}`,pointerClick:this.handleThumbnailClick},i.createElement("div",{"aria-selected":s.isSelected,className:a.pickerThumbnailWrapper,"data-itemindex":n,"data-tb-test-id":t.SheetThumbnailTestIdPrefix+n.toString(),role:"option",tabIndex:n===this.state.activeItemIndex?0:-1,title:s.title},i.createElement(o.ThumbnailItem,Object.assign({},s))))}))}getSheetPickerFooter(){const e=s.Messages.xOfy({x:this.props.selectedThumbnailIds.length.toString(),y:this.props.thumbnails.length.toString()}),n=i.createElement("div",{"aria-live":"polite","aria-atomic":"true"},i.createElement(r.ButtonWidget,Object.assign({},this.createSelectAllButtonProps())),i.createElement(r.ButtonWidget,Object.assign({},this.createDeselectAllButtonProps())));return i.createElement("div",{className:a.pickerSelectionFooterClassName},i.createElement("div",{"aria-label":this.props.counterLabel,"aria-live":"polite","aria-atomic":"true","data-tb-test-id":t.ThumbnailSelectionCounterId,style:a.selectionCounterStyles},e),n)}componentDidUpdate(e){e.thumbnails.length===this.props.thumbnails.length&&e.thumbnails.every(((e,t)=>e.id===this.props.thumbnails[t].id))||this.setState({activeItemIndex:this.getDefaultActiveItemIndex()})}render(){return i.createElement("div",null,i.createElement("div",{"aria-label":this.props.groupLabel,"aria-multiselectable":!this.props.singleSelectOnly,"aria-orientation":"horizontal",className:a.pickerClassName,"data-tb-test-id":t.ThumbnailPickerTestId,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,ref:this.pickerRef,role:"listbox"},this.renderThumbnailItems()),!this.props.singleSelectOnly&&this.getSheetPickerFooter())}}t.ThumbnailPicker=l},662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearAllButtonStyles=t.selectAllButtonStyles=t.selectionCounterStyles=t.pickerThumbnailWrapper=t.pickerSelectionFooterClassName=t.pickerClassName=void 0;const r=n(729),i=n(16),{Colors:s,Spacing:o,Typography:a}=r.TabStyles;t.pickerClassName=i.style({$debugName:"thumbnail-picker","-webkit-overflow-scrolling":"touch",display:"flex",flexDirection:"row",flexWrap:"nowrap",margin:`-${o.DefaultSpace}px 0 ${o.DefaultSpace}px 0`,overflowX:"auto",overflowY:"hidden"}),t.pickerSelectionFooterClassName=i.style({$debugName:"selection-footer",alignItems:"center",display:"inline-flex",flexDirection:"row",justifyContent:"space-between",marginBottom:o.DefaultSpace,marginTop:o.MediumSpace,width:"100%"}),t.pickerThumbnailWrapper=i.style({$debugName:"thumbnail-wrapper",flex:"0 0 auto",margin:o.SmallSpace,outline:"none",overflow:"hidden",position:"relative",whiteSpace:"nowrap",$nest:{"&:focus-visible":{outline:`1px solid ${s.Focus}`,outlineOffset:-1,boxShadow:`0 0 4px 0 ${s.Focus}`}}}),t.selectionCounterStyles={color:a.Color.Primary,display:"inline-block",fontSize:a.Sizing.Tiny},t.selectAllButtonStyles={marginRight:o.DefaultSpace},t.clearAllButtonStyles={marginLeft:o.DefaultSpace}},779:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var s=/[A-Z]/g,o=/^ms-/,a=/&/g,l=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,c=function(e){return"-"+e.toLowerCase()},u={"animation-iteration-count":!0,"border-image-outset":!0,"border-image-slice":!0,"border-image-width":!0,"box-flex":!0,"box-flex-group":!0,"box-ordinal-group":!0,"column-count":!0,columns:!0,"counter-increment":!0,"counter-reset":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"flex-order":!0,"font-weight":!0,"grid-area":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-span":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-span":!0,"grid-row-start":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"flood-opacity":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0},h=0,d=Object.keys(u);h<d.length;h++)for(var p=d[h],m=0,f=["-webkit-","-ms-","-moz-","-o-",""];m<f.length;m++)u[f[m]+p]=!0;function g(e){return e.replace(s,c).replace(o,"-ms-")}function y(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function b(e,t){return"number"!=typeof t||0===t||u.hasOwnProperty(e)?e+":"+t:e+":"+t+"px"}function v(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function S(e){return e.map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return b(t,e)})).join(";"):b(t,n)})).join(";")}function I(e,t){return-1===e.indexOf("&")?t+" "+e:e.replace(a,t)}function k(e,n,r,i,s){var o=function(e,n){for(var r=[],i=[],s=!1,o=0,a=Object.keys(e);o<a.length;o++){var l=a[o],c=e[l];null!=c&&(l===t.IS_UNIQUE?s=!0:"object"!=typeof c||Array.isArray(c)?r.push([g(l.trim()),c]):i.push([l.trim(),c]))}return{style:S(v(r)),nested:n?i:v(i),isUnique:s}}(n,""!==e),a=o.style,l=o.nested,c=o.isUnique,u=a;if(64===e.charCodeAt(0)){var h={selector:e,styles:[],rules:[],style:s?"":a};r.push(h),a&&s&&h.styles.push({selector:s,style:a,isUnique:c});for(var d=0,p=l;d<p.length;d++){var m=p[d];u+=(T=m[0])+k(T,m[1],h.rules,h.styles,s)}}else{var f=s?I(e,s):e;a&&i.push({selector:f,style:a,isUnique:c});for(var y=0,b=l;y<b.length;y++){var T,x=b[y];u+=(T=x[0])+k(T,x[1],r,i,f)}}return u}function T(e,t,n,r,s,o){for(var a=0,l=r;a<l.length;a++){var c=l[a],u=c.selector,h=c.style,d=c.isUnique,p=o?I(u,s):u,m=d?"u\0"+(++i).toString(36):"s\0"+t+"\0"+h;(y=new P(h,m)).add(new _(p,"k\0"+t+"\0"+p)),e.add(y)}for(var f=0,g=n;f<g.length;f++){var y,b=g[f],v=(u=b.selector,h=b.style,b.rules),S=b.styles;T(y=new N(u,h,"r\0"+t+"\0"+u+"\0"+h),t,v,S,s,o),e.add(y)}}function x(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(l,"\\$&")},t.hyphenate=g,t.stringHash=y;var w={add:function(){},change:function(){},remove:function(){}},C=function(){function e(e){void 0===e&&(e=w),this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else if(r instanceof e&&t instanceof e){var i=this._keys.indexOf(t.id),s=r.changeId;r.merge(t),r.changeId!==s&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(void 0!==n&&n>0){this._counters[t.id]=n-1;var r=this._children[t.id],i=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(r,i);else if(r instanceof e&&t instanceof e){var s=r.changeId;r.unmerge(t),r.changeId!==s&&(this.sheet.splice(i,1,r.getStyles()),this.changeId++,this.changes.change(r,i,i))}}},e.prototype.values=function(){var e=this;return this._keys.map((function(t){return e._children[t]}))},e.prototype.merge=function(e){for(var t=0,n=e.values();t<n.length;t++){var r=n[t];this.add(r)}return this},e.prototype.unmerge=function(e){for(var t=0,n=e.values();t<n.length;t++){var r=n[t];this.remove(r)}return this},e.prototype.clone=function(){return(new e).merge(this)},e}();t.Cache=C;var _=function(){function e(e,t){this.selector=e,this.id=t}return e.prototype.getStyles=function(){return this.selector},e.prototype.clone=function(){return new e(this.selector,this.id)},e}();t.Selector=_;var P=function(e){function t(t,n){var r=e.call(this)||this;return r.style=t,r.id=n,r}return r(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.clone=function(){return new t(this.style,this.id).merge(this)},t}(C);t.Style=P;var N=function(e){function t(t,n,r){var i=e.call(this)||this;return i.rule=t,i.style=n,i.id=r,i}return r(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+x(this.sheet)+"}"},t.prototype.clone=function(){return new t(this.rule,this.style,this.id).merge(this)},t}(C);t.Rule=N;var O=function(e){function n(t,n,r,i){var s=e.call(this,i)||this;return s.hash=t,s.debug=n,s.id=r,s}return r(n,e),n.prototype.registerStyle=function(e,n){var r=[],i=[],s=k("&",e,r,i),o="f"+this.hash(s),a=this.debug&&n?n+"_"+o:o;return T(this,s,r,i,"."+t.escape(a),!0),a},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(e,n,r){var i=[],s=[],o=k("",n,i,s),a="f"+this.hash(o),l=this.debug&&r?r+"_"+a:a,c=new N(e+" "+t.escape(l),"","h\0"+o+"\0"+e);return T(c,o,i,s,"",!1),this.add(c),l},n.prototype.registerRule=function(e,t){var n=[],r=[];T(this,k(e,t,n,r),n,r,"",!1)},n.prototype.registerCss=function(e){return this.registerRule("",e)},n.prototype.getStyles=function(){return x(this.sheet)},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(C);t.FreeStyle=O,t.create=function(e,t,n){return void 0===e&&(e=y),void 0===t&&(t="undefined"!=typeof process&&!1),void 0===n&&(n=w),new O(e,t,"f"+(++i).toString(36),n)}},16:function(e,t,n){"use strict";n.r(t),n.d(t,{TypeStyle:function(){return h},classes:function(){return o},createTypeStyle:function(){return x},cssRaw:function(){return f},cssRule:function(){return g},extend:function(){return a},fontFace:function(){return b},forceRenderStyles:function(){return y},getStyles:function(){return v},keyframes:function(){return S},media:function(){return l},reinit:function(){return I},setStylesTarget:function(){return m},style:function(){return k},stylesheet:function(){return T},types:function(){return d}});var r=n(779);function i(e){var t={},n="";for(var s in e){var o=e[s];if("$unique"===s)t[r.IS_UNIQUE]=o;else if("$nest"===s){var a=o;for(var l in a){var c=a[l];t[l]=i(c).result}}else"$debugName"===s?n=o:t[s]=o}return{result:t,debugName:n}}var s="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e&&"object"==typeof e?Object.keys(e).map((function(t){return!!e[t]&&t})):[e]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!!e})).join(" ")}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,i=e;r<i.length;r++){var s=i[r];if(null!=s&&!1!==s)for(var o in s){var l=s[o];(l||0===l)&&("$nest"===o&&l?n[o]=n.$nest?a(n.$nest,l):l:-1!==o.indexOf("&")||0===o.indexOf("@media")?n[o]=n[o]?a(n[o],l):l:n[o]=l)}}return n}var l=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[];e.type&&r.push(e.type),e.orientation&&r.push("(orientation: "+e.orientation+")"),e.minWidth&&r.push("(min-width: "+c(e.minWidth)+")"),e.maxWidth&&r.push("(max-width: "+c(e.maxWidth)+")"),e.minHeight&&r.push("(min-height: "+c(e.minHeight)+")"),e.maxHeight&&r.push("(max-height: "+c(e.maxHeight)+")");var i,s="@media "+r.join(" and "),o={$nest:(i={},i[s]=a.apply(void 0,t),i)};return o},c=function(e){return"string"==typeof e?e:e+"px"},u=function(){return r.create(void 0,!0)},h=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var s=i(a.apply(void 0,t)).result;n._freeStyle.registerRule(e,s),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,i=0,s=e;i<s.length;i++){var o=s[i];r.registerRule("@font-face",o)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}(e),r=t.keyframes,i=t.$debugName,s=n._freeStyle.registerKeyframes(r,i);return n._styleUpdated(),s},this.reinit=function(){var e=u();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.stylesheet=function(e){for(var t={},r=0,i=Object.getOwnPropertyNames(e);r<i.length;r++){var s=i[r],o=e[s];o&&(o.$debugName=s,t[s]=n.style(o))}return t};var r=u();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;s((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle,t=i(a.apply(void 0,arguments)),n=t.result,r=t.debugName,s=r?e.registerStyle(n,r):e.registerStyle(n);return this._styleUpdated(),s},e}(),d=n(207),p=new h({autoGenerateTag:!0}),m=p.setStylesTarget,f=p.cssRaw,g=p.cssRule,y=p.forceRenderStyles,b=p.fontFace,v=p.getStyles,S=p.keyframes,I=p.reinit,k=p.style,T=p.stylesheet;function x(e){var t=new h({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},207:function(){},197:function(t){"use strict";t.exports=e},729:function(e){"use strict";e.exports=t}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return n[e].call(s.exports,s,s.exports,i),s.exports}i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){"use strict";var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.SheetPicker=e.ThumbnailPicker=e.ThumbnailItem=void 0;var t=i(80);Object.defineProperty(e,"ThumbnailItem",{enumerable:!0,get:function(){return t.ThumbnailItem}});var n=i(722);Object.defineProperty(e,"ThumbnailPicker",{enumerable:!0,get:function(){return n.ThumbnailPicker}});var r=i(445);Object.defineProperty(e,"SheetPicker",{enumerable:!0,get:function(){return r.SheetPicker}})}(),s}()}));
//# sourceMappingURL=export-ui-components.min.js.map